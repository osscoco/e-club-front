<!-- Affiché une seule fois, comme <app-toast> -->
<div *ngIf="(svc.view$ | async)?.active" class="fixed inset-0 z-[9999] animate-fade-in pointer-events-auto" aria-busy="true" role="alert" aria-live="polite">
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-base-300/60 backdrop-blur-sm"></div>

  <!-- Contenu centré -->
  <div class="absolute inset-0 flex items-center justify-center">
    <div class="flex flex-col items-center gap-3">
      <span class="loading loading-spinner loading-lg"></span>
      <span class="text-base-content/90 font-medium" *ngIf="(svc.view$ | async)?.message as msg">{{ msg }}</span>
      <span class="sr-only">Chargement en cours</span>
    </div>
  </div>

  <!-- Couche qui intercepte tous les clics (bloque l’UI) -->
  <button class="absolute inset-0 w-full h-full cursor-wait" tabindex="-1" aria-hidden="true" (click)="$event.stopPropagation()"></button>
</div>